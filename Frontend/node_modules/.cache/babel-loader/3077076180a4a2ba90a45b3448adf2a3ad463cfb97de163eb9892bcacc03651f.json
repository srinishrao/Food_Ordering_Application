{"ast":null,"code":"var _jsxFileName = \"/Users/srinishkuchadi/Desktop/food-app/src/pages/Login/BuyerLogin.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from 'react';\nimport Home from '../Home/OwnerHome';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport '../../styles/register.css';\nimport logo from '../../images/res-logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BuyerLogin = () => {\n  _s();\n  const userRef = useRef();\n  const errRef = useRef();\n  const [email, setEmail] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [EmptyCredentials, setEmptyCredentials] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState(false);\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setErrMsg('');\n  }, [email, pwd]);\n  const navigate = useNavigate();\n  const onValidate = e => {\n    if (email === \"\" || email === \" \" || pwd === \"\" || pwd === \" \") {\n      setEmptyCredentials(\"Email and Password cannot be Empty!!\");\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let isValid = onValidate();\n    if (isValid) {\n      const logindata = {\n        \"email\": email,\n        \"password\": pwd\n      };\n      try {\n        await axios.post(\"http://localhost:8080/api/users/Buyerlogin\", logindata, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': 'http://localhost:3000'\n          }\n        }).then(async response => {\n          console.log(\"Status Code : ====> \", response.status);\n          if (response.status === 200) {\n            axios.get(`http://localhost:8080/api/users/useremail/${email}`).then(response => {\n              console.log(response.data);\n              sessionStorage.setItem('userID', response.data.userID);\n              sessionStorage.setItem('firstName', response.data.firstName);\n              sessionStorage.setItem('lastName', response.data.lastName);\n              sessionStorage.setItem('email', response.data.email);\n              sessionStorage.setItem('phoneNumber', response.data.phoneNumber);\n              sessionStorage.setItem('profileImage', response.data.profileImage);\n              sessionStorage.setItem('profileImage', response.data.profileImage);\n              sessionStorage.setItem('userType', response.data.userType);\n            }).then(() => {\n              //sessionStorage.setItem('owner', owner)\n              navigate('/Home');\n            });\n          }\n        });\n      } catch (err) {\n        if (!err.response) {\n          setErrMsg('No Server Response');\n        } else if (err.response.status === 400) {\n          setErrMsg('Incorrect Credentials');\n        } else {\n          setErrMsg(\"Error in login\");\n        }\n        errRef.current.focus();\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: success ? setSuccess(true) && /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center justify-content-between\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-center mt-2 \",\n            children: \"Grubhub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          ref: errRef,\n          className: errMsg ? \"errmsg\" : \"offscreen\",\n          \"aria-live\": \"assertive\",\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"headerName\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            ref: userRef,\n            autoComplete: \"off\",\n            onChange: e => setEmail(e.target.value),\n            value: email,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            onChange: e => setPwd(e.target.value),\n            value: pwd,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"signInButton\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Need an Account?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"line\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/Buyersignup\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(BuyerLogin, \"jigVWuKJOmyICRtzDBZ6Djd+CyE=\", false, function () {\n  return [useNavigate];\n});\n_c = BuyerLogin;\nexport default BuyerLogin;\nvar _c;\n$RefreshReg$(_c, \"BuyerLogin\");","map":{"version":3,"names":["useRef","useState","useEffect","Home","Link","useNavigate","axios","logo","BuyerLogin","userRef","errRef","email","setEmail","pwd","setPwd","EmptyCredentials","setEmptyCredentials","errMsg","setErrMsg","success","setSuccess","current","focus","navigate","onValidate","e","handleSubmit","preventDefault","isValid","logindata","post","headers","then","response","console","log","status","get","data","sessionStorage","setItem","userID","firstName","lastName","phoneNumber","profileImage","userType","err","target","value"],"sources":["/Users/srinishkuchadi/Desktop/food-app/src/pages/Login/BuyerLogin.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport Home from '../Home/OwnerHome';\nimport { Link, useNavigate } from 'react-router-dom'\nimport axios from 'axios';\nimport '../../styles/register.css'\nimport logo from '../../images/res-logo.png'\n\nconst BuyerLogin = () => {\n    \n    const userRef = useRef();\n    const errRef = useRef();\n\n    const [email, setEmail] = useState('');\n    const [pwd, setPwd] = useState('');\n\n    const [EmptyCredentials, setEmptyCredentials] = useState('');\n    const [errMsg, setErrMsg] = useState('');\n    const [success, setSuccess] = useState(false);\n\n    useEffect(() => {\n        userRef.current.focus();\n    }, [])\n\n    useEffect(() => {\n        setErrMsg('');\n    }, [email, pwd])\n\n    const navigate = useNavigate();\n\n    const onValidate = (e) => { \n        if(email === \"\" || email === \" \" || pwd === \"\" || pwd === \" \") {\n            setEmptyCredentials(\"Email and Password cannot be Empty!!\")\n            return false;\n        }\n        return true;\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        let isValid = onValidate();\n        if(isValid){\n          const logindata = {\n            \"email\" : email,\n            \"password\" : pwd\n          }\n        \n        try {\n            await axios.post(\"http://localhost:8080/api/users/Buyerlogin\", logindata, {\n                headers: {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': 'http://localhost:3000',\n                }\n            }).then(async (response) => {\n                console.log(\"Status Code : ====> \",response.status);\n                if(response.status === 200){\n                    axios.get(`http://localhost:8080/api/users/useremail/${email}`)\n                    .then((response) => {\n                        console.log(response.data)\n                        sessionStorage.setItem('userID',response.data.userID)\n                        sessionStorage.setItem('firstName',response.data.firstName)\n                        sessionStorage.setItem('lastName',response.data.lastName)\n                        sessionStorage.setItem('email',response.data.email)\n                        sessionStorage.setItem('phoneNumber',response.data.phoneNumber)\n                        sessionStorage.setItem('profileImage',response.data.profileImage)\n                        sessionStorage.setItem('profileImage',response.data.profileImage)\n                        sessionStorage.setItem('userType',response.data.userType)\n                    })\n                    .then(() => {\n                        //sessionStorage.setItem('owner', owner)\n                        navigate('/Home')\n                    })\n                }\n            })\n        } catch (err) {\n            if (!err.response) {\n                setErrMsg('No Server Response');\n            }else if(err.response.status === 400) {\n                setErrMsg('Incorrect Credentials')\n            }else {\n                setErrMsg(\"Error in login\")\n            }\n            errRef.current.focus();\n          }\n        }\n    }\n\n    return (\n        <>\n            {success ? ( setSuccess(true) &&\n                <Home />\n            ) : (\n                <section>\n                  <div className='d-flex align-items-center justify-content-between'>\n                      <div className='logo'>\n                          <img src={logo} alt=\"logo\" />\n                          <h5 className='text-center mt-2 '>Grubhub</h5>\n                      </div>\n                  </div>\n                  <div className='formSection'>\n                      <p ref={errRef} className={errMsg ? \"errmsg\" : \"offscreen\"} aria-live=\"assertive\">{errMsg}</p>\n                      <h1 className='headerName'>Sign In</h1>\n                      <form onSubmit={handleSubmit}>\n                          <label htmlFor=\"email\">Email:</label>\n                          <input\n                              type=\"email\"\n                              id=\"email\"\n                              ref={userRef}\n                              autoComplete=\"off\"\n                              onChange={(e) => setEmail(e.target.value)}\n                              value={email}\n                              required\n                          />\n\n                          <label htmlFor=\"password\">Password:</label>\n                          <input\n                              type=\"password\"\n                              id=\"password\"\n                              onChange={(e) => setPwd(e.target.value)}\n                              value={pwd}\n                              required\n                          />\n                          <button className='signInButton'>Sign In</button>\n                      </form>\n                      <p>\n                          Need an Account?<br />\n                          <span className=\"line\">\n                            <Link to='/Buyersignup'>\n                              Sign Up\n                            </Link>\n                          </span>\n                      </p>\n                  </div>\n                </section>\n            )}\n        </>\n    )\n}\n\nexport default BuyerLogin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}